/* 
 * Class GameOfWar
 * Author: Pearce Haviland
 * 
 * Description:
 * This is an implementation of the card game War.
 * ASCII art for banner image generated by https://www.ascii-art-generator.org/
 */
using System;
using System.Collections.Generic;
using System.Text;

// Each player gets dealt half the deck, 26 cards, and the cards are put face down
// in a stack in front of the players.
//
// Both players turn their top card face up at the same time. The person with the
// higher card wins that draw, and takes both the cards. They are put to the side
// to form a new stack, which the player can use when he finishes his current stack.
//
// If both players draw a card of the same rank, e.g. they both draw 8s, then there's
// a war. The face up cards are left on the table and each player puts three cards face
// down on the table, and then puts one card face up. The face up card determines who
// wins the war and gets all 10 cards that are on the table at this point. If the face
// up card is again the same rank, then the war goes on, three more face down, one face up etc.
//
// First player to finish all their cards loses the game.
//
// If a player finishes their cards during a war without having enough cards to finish the
// war then they lose immediately.

namespace GameOfWar
{
    class GameOfWar
    {
        // Used to simplify input handling
        private enum GamePhase
        {
            MainMenu,       // Intro screen, where player decides what to do
            RegularLoop,    // Regular gameplay, involving drawing cards
            War,            // "War" scenario, where players must pick from 3 drawn cards
            ContinueScreen  // Player decides between "Play again" and "Exit"
        }

        public GameOfWar()
        {
            m_deck1 = new Deck();
            m_phase = GamePhase.MainMenu;
        }
        
        private bool handleInput(string input)
        {
            bool valid = false;

            switch (m_phase)
            {
                case GamePhase.MainMenu:
                    break;
                case GamePhase.RegularLoop:
                    break;
                case GamePhase.War:
                    break;
                case GamePhase.ContinueScreen:
                    break;
                default:
                    break;
            }

            return valid;
        }

        public void RunGame()
        {
            m_deck1.Shuffle();
            m_deck2 = m_deck1.Split();
            Console.WriteLine(bannerText);
        }

        private Deck m_deck1,   // Deck for Player 1
                    m_deck2;    // Deck for Player 2
        private GamePhase m_phase;
        private const string bannerText = @"
========================
#     #    #    ######  
#  #  #   # #   #     # 
#  #  #  #   #  #     # 
#  #  # #     # ######  
#  #  # ####### #   #
#  #  # #     # #    #  
 ## ##  #     # #     #
========================";
        
    }
}
